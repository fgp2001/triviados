<div class="partida-container">
    <h2>Pregunta</h2>
    <p>{{pregunta}}</p>

    <!-- Temporizador -->
    <div id="timer" style="font-weight: bold; font-size: 20px; color: red; margin-bottom: 10px;">
        Tiempo restante: <span id="countdown">30</span> segundos
    </div>

    <form id="formulario-respuesta" method="post" action="/triviados/Partida/responderPregunta">
        <input type="hidden" name="id_pregunta" value="{{id_incremental}}">
        {{#opciones}}
            <label>
                <input type="radio" name="opcion" value="{{id_incremental}}" required>
                {{opcion}}
            </label><br>
        {{/opciones}}

        <button type="submit">Responder</button>
    </form>
</div>

<!-- JavaScript para el temporizador -->
<script>
    let tiempoRestante = 30;
    const countdownElement = document.getElementById("countdown");
    const form = document.getElementById("formulario-respuesta");

    const intervalo = setInterval(() => {
        tiempoRestante--;
        countdownElement.textContent = tiempoRestante;

        if (tiempoRestante <= 0) {
            clearInterval(intervalo);
            alert("¡Se acabó el tiempo!");
            form.submit(); // Envía el formulario automáticamente
        }
    }, 1000);
</script>