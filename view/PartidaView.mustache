<div class="partida-container">
    <h2>Pregunta</h2>
    <p>{{pregunta}}</p>

    <div style="font-weight: bold; font-size: 20px; color: red; margin-bottom: 10px;">
        Tiempo restante: <span id="countdown">30</span> segundos
    </div>

    <form id="formulario-respuesta" method="post" action="/triviados/Partida/responderPregunta">
        <input type="hidden" name="id_pregunta" value="{{id_incremental}}">

        {{#opciones}}
            <label>
                <input type="radio" name="opcion" value="{{id_incremental}}">
                {{opcion}}
            </label><br>
        {{/opciones}}

        <button type="submit">Responder</button>
    </form>
</div>

<script>
    let tiempoRestante = 30;
    const countdownSpan = document.getElementById("countdown");

    const intervalo = setInterval(() => {
        tiempoRestante--;
        countdownSpan.textContent = tiempoRestante;

        if (tiempoRestante <= 0) {
            clearInterval(intervalo);
            // Enviar el formulario aunque no haya opciÃ³n seleccionada
            document.getElementById("formulario-respuesta").submit();
        }
    }, 1000);
</script>